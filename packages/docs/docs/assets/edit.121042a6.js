var e=Object.defineProperty,a=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,t=(a,l,n)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[l]=n,o=(e,o)=>{for(var u in o||(o={}))a.call(o,u)&&t(e,u,o[u]);if(l)for(var u of l(o))n.call(o,u)&&t(e,u,o[u]);return e};import{d as u,m as i,j as v,r,k as d,u as s,o as p,w as c,c as f,a as g,S as y,l as b,n as h,p as m}from"./index.db295836.js";/* empty css              */var w=u({name:"sb-heading-edit",model:i,props:{blockId:{type:String,required:!0},data:{type:null,default:v},onUpdate:{type:null,default:()=>{}},onAppendBlock:{type:null,default:()=>{}},onRemoveSelf:{type:null,default:()=>{}},onActivateNext:{type:null,default:()=>{}},onActivatePrevious:{type:null,default:()=>{}}},setup(e){const a=r({value:e.data.value,align:e.data.align,level:e.data.level,focused:!1}),l=d(null),{isActive:n,activate:t}=s(e.blockId),u=()=>{l.value&&n.value&&l.value.focus()};p((()=>{u(),l.value&&(l.value.innerHTML=a.value)})),c(n,u),c((()=>e.data),(()=>{a.value=e.data.value,a.align=e.data.align,a.level=e.data.level,l.value&&(l.value.innerHTML=a.value)}));const i=e=>{a.value=e.target.innerHTML},v=f((()=>({"sb-heading":!0,"sb-heading_focused":a.focused,[`sb-heading_align-${a.align}`]:!0,[`sb-heading_${a.level}`]:!0}))),w=l=>{e.onUpdate(o(o({},a),{level:parseInt(l.target.value,10)}))},k=l=>{e.onUpdate(o(o({},a),{align:l.target.value}))},A=()=>{a.focused=!0,t()},j=()=>{a.focused=!1,e.onUpdate({value:a.value,align:a.align,level:a.level})},O=a=>{if("Enter"===a.key&&!a.shiftKey){const l=""+ +new Date;e.onAppendBlock({id:l,name:"sb-paragraph",data:m()}),t(l),a.preventDefault()}},S=n=>{var t;"Backspace"===n.key&&""===a.value&&e.onRemoveSelf();const o=window.getSelection(),u=null==o?void 0:o.focusNode,i=Array.from((null==(t=null==l?void 0:l.value)?void 0:t.childNodes)||[]),v=u?i.indexOf(u):-1;if(u===l.value||0===v||v===i.length-1)switch(n.key){case"ArrowDown":e.onActivateNext();break;case"ArrowUp":e.onActivatePrevious()}};return()=>g("div",{class:v.value},[g(y,null,{default:()=>[g(b,{value:a.level,onChange:w},{default:()=>[g("option",{value:1},[h("h1")]),g("option",{value:2},[h("h2")]),g("option",{value:3},[h("h3")]),g("option",{value:4},[h("h4")]),g("option",{value:5},[h("h5")]),g("option",{value:6},[h("h6")])]}),g(b,{value:a.align,onChange:k},{default:()=>[g("option",null,[h("left")]),g("option",null,[h("center")]),g("option",null,[h("right")])]})]}),g("p",{class:"sb-heading__input",ref:l,contenteditable:!0,onInput:i,onFocus:A,onBlur:j,onKeydown:O,onKeyup:S},null)])}});export default w;
//# sourceMappingURL=edit.121042a6.js.map
